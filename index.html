<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snyk + Snowflake Integration</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8FAFA; /* Very light gray from Snyk site */
            color: #334155; /* Slate from Snyk site */
        }
        .snyk-blue {
            background-color: #6366F1; /* A shade of purple-blue */
        }
        .snyk-pink {
            background-color: #EC4899; /* A vibrant pink */
        }
        .snyk-light-blue {
            background-color: #E0F2FE; /* Lightest blue */
        }
        .snyk-light-pink {
            background-color: #FCE7F3; /* Lightest pink */
        }
        .snyk-gradient-bg {
            background-image: linear-gradient(to right top, #EC4899, #8B5CF6); /* Pink to Purple-blue */
        }
        .text-snyk-gradient {
            background: linear-gradient(to right, #EC4899, #8B5CF6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .border-snyk-gradient {
            border-image: linear-gradient(to right, #EC4899, #8B5CF6) 1;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col justify-center items-center p-4 md:p-8 overflow-x-hidden">

    <!-- Header Section -->
    <header class="w-full max-w-6xl mx-auto py-8 text-center">
        <img src="https://placehold.co/120x40/94A3B8/FFFFFF?text=SNYK" alt="Snyk Logo" class="mx-auto h-10 mb-4 rounded-md">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-800 leading-tight mb-4 text-snyk-gradient">
            Secure Your Data Pipeline with Snyk + Snowflake
        </h1>
        <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
            Leverage the power of Snyk's AI Trust Platform to bring unparalleled security and compliance to your Snowflake data workloads.
        </p>
    </header>

    <!-- Benefits Section -->
    <section class="w-full max-w-6xl mx-auto py-12">
        <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-10">
            Benefits Across Your Organization
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

            <!-- Developer Card -->
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                <div class="flex items-center justify-center w-16 h-16 bg-snyk-light-blue rounded-full mb-6 mx-auto">
                    <!-- Icon for Developer -->
                    <svg class="w-8 h-8 text-snyk-blue" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                </div>
                <h3 class="text-xl md:text-2xl font-semibold text-center text-gray-800 mb-4">For Developers</h3>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li><strong class="font-medium">Shift Left Security:</strong> Identify and fix vulnerabilities in your data pipelines and configurations early, directly within your familiar development environment.</li>
                    <li><strong class="font-medium">Automated Scans:</strong> Seamlessly integrate security scanning into your CI/CD workflows for Snowflake, catching issues before deployment.</li>
                    <li><strong class="font-medium">Contextual Guidance:</strong> Get actionable remediation advice, empowered by Snyk's AI, to quickly secure your Snowflake configurations.</li>
                    <li><strong class="font-medium">Accelerated Innovation:</strong> Build and deploy faster, with confidence, knowing your Snowflake environment is secure by design.</li>
                </ul>
            </div>

            <!-- AppSec Engineer Card -->
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                <div class="flex items-center justify-center w-16 h-16 bg-snyk-light-pink rounded-full mb-6 mx-auto">
                    <!-- Icon for AppSec Engineer -->
                    <svg class="w-8 h-8 text-snyk-pink" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd"></path></svg>
                </div>
                <h3 class="text-xl md:text-2xl font-semibold text-center text-gray-800 mb-4">For AppSec Engineers</h3>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li><strong class="font-medium">Comprehensive Visibility:</strong> Gain a unified view of security posture across your Snowflake instances, identifying misconfigurations and compliance gaps.</li>
                    <li><strong class="font-medium">Policy Enforcement:</strong> Define and enforce security policies for your Snowflake environment, ensuring consistent security standards.</li>
                    <li><strong class="font-medium">Automated Risk Prioritization:</b> Leverage Snyk's AI-driven insights to focus on the most critical security risks in your Snowflake data landscape.</li>
                    <li><strong class="font-medium">Streamlined Compliance:</strong> Easily demonstrate compliance with industry regulations by continuously monitoring your Snowflake configurations.</li>
                </ul>
            </div>

            <!-- CISO Card -->
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                <div class="flex items-center justify-center w-16 h-16 bg-snyk-light-blue rounded-full mb-6 mx-auto">
                    <!-- Icon for CISO -->
                    <svg class="w-8 h-8 text-snyk-blue" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM11 13a6 6 0 01-6 6H3a2 2 0 00-2 2v2h20v-2a2 2 0 00-2-2h-2a6 6 0 01-6-6z"></path></svg>
                </div>
                <h3 class="text-xl md:text-2xl font-semibold text-center text-gray-800 mb-4">For CISOs</h3>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li><strong class="font-medium">Reduced Data Risk:</strong> Proactively identify and mitigate security vulnerabilities in your critical Snowflake data platform.</li>
                    <li><strong class="font-medium">Enhanced Security Posture:</strong> Gain complete control and visibility over your Snowflake environment, strengthening overall enterprise security.</li>
                    <li><strong class="font-medium">AI-Powered Trust:</strong> Build trust with stakeholders by adopting Snyk's AI Trust Platform, ensuring secure innovation at scale within Snowflake.</li>
                    <li><strong class="font-medium">Strategic Compliance:</strong> Meet and exceed regulatory requirements for data security and privacy within your Snowflake data cloud.</li>
                </ul>
            </div>

        </div>
    </section>

    <!-- Integration Setup Section -->
    <section class="w-full max-w-6xl mx-auto py-12 bg-snyk-gradient-bg rounded-xl shadow-2xl p-6 md:p-12 text-gray-900">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">
            Getting Started: Snyk + Snowflake Integration
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-lg">
            <div class="space-y-6">
                <div class="flex items-start">
                    <span class="text-2xl font-bold mr-4 flex-shrink-0">1.</span>
                    <div>
                        <h3 class="font-semibold text-xl mb-2">Connect Snyk to Snowflake</h3>
                        <p>Begin by securely connecting your Snyk account to your Snowflake environment. This typically involves granting necessary read-only permissions to allow Snyk to scan your Snowflake configurations.</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <span class="text-2xl font-bold mr-4 flex-shrink-0">2.</span>
                    <div>
                        <h3 class="font-semibold text-xl mb-2">Configure Scanning Policies</h3>
                        <p>Within the Snyk platform, define and customize security policies specifically for your Snowflake workloads. This includes setting up rules for data governance, access controls, and best practices.</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <span class="text-2xl font-bold mr-4 flex-shrink-0">3.</span>
                    <div>
                        <h3 class="font-semibold text-xl mb-2">Integrate into CI/CD (Optional but Recommended)</h3>
                        <p>For automated security, integrate Snyk's scanning capabilities into your existing CI/CD pipelines. This ensures that any new or updated Snowflake configurations are automatically scanned for vulnerabilities before deployment.</p>
                    </div>
                </div>
            </div>
            <div class="space-y-6">
                <div class="flex items-start">
                    <span class="text-2xl font-bold mr-4 flex-shrink-0">4.</span>
                    <div>
                        <h3 class="font-semibold text-xl mb-2">Monitor and Remediate</h3>
                        <p>Continuously monitor your Snowflake environment through the Snyk dashboard. Receive real-time alerts on identified misconfigurations or vulnerabilities and follow Snyk's actionable guidance for remediation.</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <span class="text-2xl font-bold mr-4 flex-shrink-0">5.</span>
                    <div>
                        <h3 class="font-semibold text-xl mb-2">Leverage AI Insights</h3>
                        <p>Benefit from Snyk's AI Trust Platform to get deeper insights, prioritize critical issues, and understand the impact of vulnerabilities on your Snowflake data and applications.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI-Powered Security Assistant Section -->
    <section class="w-full max-w-6xl mx-auto py-12 bg-white rounded-xl shadow-lg p-6 md:p-8 mt-8">
        <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8">
            ✨ AI-Powered Security Assistant for Snowflake ✨
        </h2>
        <p class="text-lg text-gray-600 text-center mb-6">
            Input a security concern or Snowflake configuration snippet to get AI-driven explanations and remediation guidance.
        </p>
        <div class="flex flex-col space-y-6">
            <textarea
                id="securityInput"
                class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-snyk-blue resize-y"
                rows="8"
                placeholder="E.g., 'A Snowflake user has PUBLIC access granted to sensitive tables.' or 'What are common misconfigurations in Snowflake access roles?'"
            ></textarea>
            <button
                id="analyzeButton"
                class="snyk-gradient-bg text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-lg w-full md:w-auto mx-auto"
            >
                Get AI Guidance ✨
            </button>
            <div id="loadingIndicator" class="hidden text-center text-gray-600 mt-4">
                Analyzing with AI...
            </div>
            <div
                id="aiOutput"
                class="bg-gray-50 p-6 rounded-lg border border-gray-200 min-h-[150px] overflow-auto text-gray-800"
            >
                <p class="text-gray-500">Your AI-driven security analysis will appear here.</p>
            </div>
            <div id="errorMessage" class="hidden text-red-600 text-center mt-4">
                An error occurred. Please try again.
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="w-full max-w-4xl mx-auto py-12 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">
            Ready to Revolutionize Your Data Security?
        </h2>
        <p class="text-lg md:text-xl text-gray-600 mb-8">
            Embrace a future where your Snowflake data cloud is secure by design. Discover how Snyk's AI Trust Platform empowers your team to innovate faster and safer.
        </p>
        <a href="#" class="inline-block snyk-gradient-bg text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-lg">
            Request a Demo Today
        </a>
    </section>

    <!-- Footer -->
    <footer class="w-full max-w-6xl mx-auto py-8 text-center text-gray-900 text-sm">
        <p>&copy; 2025 Snyk. All rights reserved. Snyk + Snowflake Integration.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const securityInput = document.getElementById('securityInput');
            const analyzeButton = document.getElementById('analyzeButton');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const aiOutput = document.getElementById('aiOutput');
            const errorMessage = document.getElementById('errorMessage');

            analyzeButton.addEventListener('click', async () => {
                const promptText = securityInput.value.trim();
                if (!promptText) {
                    aiOutput.innerHTML = '<p class="text-red-500">Please enter a security concern or configuration to analyze.</p>';
                    return;
                }

                aiOutput.innerHTML = ''; // Clear previous output
                errorMessage.classList.add('hidden'); // Hide any previous error
                loadingIndicator.classList.remove('hidden'); // Show loading indicator
                analyzeButton.disabled = true; // Disable button during processing

                try {
                    // Construct the chat history with the user's prompt
                    let chatHistory = [];
                    const llmPrompt = `As a cybersecurity expert specializing in cloud security and data platforms like Snowflake, analyze the following security concern/vulnerability description. Provide a clear, concise explanation of the risk, its potential impact on a Snowflake environment, and specific, actionable remediation steps. Frame your response as if providing guidance to a developer or AppSec engineer using a security platform that leverages AI for trust.

                    Security Concern/Vulnerability:
                    ${promptText}`;

                    chatHistory.push({ role: "user", parts: [{ text: llmPrompt }] });

                    const payload = {
                        contents: chatHistory
                    };

                    const apiKey = ""; // Canvas will provide this at runtime
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(`API error: ${response.status} - ${errorData.error.message || 'Unknown error'}`);
                    }

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        aiOutput.innerHTML = `<pre class="whitespace-pre-wrap">${text}</pre>`; // Display as pre-formatted text
                    } else {
                        aiOutput.innerHTML = '<p class="text-red-500">No content received from AI. Please try a different query.</p>';
                    }
                } catch (error) {
                    console.error('Error calling Gemini API:', error);
                    errorMessage.textContent = `Error: ${error.message}. Please try again.`;
                    errorMessage.classList.remove('hidden');
                    aiOutput.innerHTML = ''; // Clear output on error
                } finally {
                    loadingIndicator.classList.add('hidden'); // Hide loading indicator
                    analyzeButton.disabled = false; // Re-enable button
                }
            });
        });
    </script>
</body>
</html>
